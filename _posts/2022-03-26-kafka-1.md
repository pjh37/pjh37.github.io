---
layout: post
title:  " Kafka 개요"
date:   2022-03-26
desc: "카프카 개요 소개"
keywords: "Kafka"
categories: [Kafka]
tags: [kafka]
icon: icon-html
---

## 메시지 발행과 구독

+ 메시지 발행 시스템에서는 데이터를 발행자 가 직접 구독자에게 보내지 않는다.

![image1](https://user-images.githubusercontent.com/37110261/160224437-39320408-f199-4d27-a7d8-ac60055c9bb5.PNG)

<br/>

+ 메시지는 발행자가 메시지를 구분해서 발행/구독 시스템에 전송하면 구독자가 특정 부류의 메시지를 구독하게 해준다. 이때 메시지를 저장하고 중계하는 역할을 브로커라고 한다.

![image2](https://user-images.githubusercontent.com/37110261/160224513-2bfc3e3a-3b54-4f24-bfa7-62aa02e77015.PNG)


<br/>

## Kafka 정의

+ Distributed commit log
+ Dittributed streaming platform

## 메시지와 배치
+ 데이터의 기본 단위로서 메시지 사용
+ 메시지를 바이트 배열의 데이터로 간주하므로 특정 형식이나 의미를 갖지 않는다.
+ 카프카의 메시지 데이터는 topic로 분류된 partition에 수록되는데 이때 데이터를 수록할 파티션을 결정하기위해 일관된 해시 값으로 키를 생성한다.
+ 카프카는 메시지가 생길때마다 보내는게 아닌 효율성을 위해 모아서 전송하는 형태의 배치로 파티션에 전송할 수 있다.
    + 이 경우 latency와 throughput(처리량) 과 트레이드 오프 가 생길 수 있다.
    + 배치의 크기 증가 -> 단위 시간당 처리되는 메시지 양 증가
    + 배치의 크기 증가 -> 메시지의 전송 시간 증가
    ![image3](https://user-images.githubusercontent.com/37110261/160224851-5ddfc429-96cf-4fbf-8a44-d77443f2137a.PNG)
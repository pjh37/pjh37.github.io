I"¾!<h2 id="jpaë€-ë¬´ì—‡ì´ê³ -ì™œ-ì‚¬ìš©í•˜ëŠ”ê°€">JPAë€ ë¬´ì—‡ì´ê³  ì™œ ì‚¬ìš©í•˜ëŠ”ê°€?</h2>

<hr />

<h2 id="jpa">JPA?</h2>
<h3 id="--java-persistence-api">- JAVA Persistence API</h3>
<h3 id="--ìë°”-ì§„ì˜ì˜-ormê¸°ìˆ -í‘œì¤€">- ìë°” ì§„ì˜ì˜ ORMê¸°ìˆ  í‘œì¤€</h3>

<p><br /></p>
<h2 id="ormobject-relational-mapping">ORM(Object-relational mapping)</h2>
<blockquote>
  <p>ê°ì²´ëŠ” ê°ì²´ëŒ€ë¡œ ì„¤ê³„<br />
ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŒ€ë¡œ ì„¤ê³„<br />
ORM í”„ë ˆì„ì›Œí¬ê°€ ì¤‘ê°„ì—ì„œ ë§¤í•‘<br />
ëŒ€ì¤‘ì ì¸ ì–¸ì–´ì—ëŠ” ëŒ€ë¶€ë¶„ ORM ê¸°ìˆ ì´ ì¡´ì¬</p>
</blockquote>

<p><br /></p>

<h2 id="jpaëŠ”-ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼-jdbc-ì‚¬ì´ì—ì„œ-ë™ì‘">JPAëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ JDBC ì‚¬ì´ì—ì„œ ë™ì‘</h2>
<p><img src="https://user-images.githubusercontent.com/37110261/84868933-58e38c00-b0b8-11ea-87e4-42dcd6a67ecb.PNG" alt="JPA" /></p>

<p><br /></p>

<h2 id="jpaë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ ">JPAë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ </h2>
<h3 id="--sqlì¤‘ì‹¬ì ì¸-ê°œë°œì—ì„œ-ê°ì²´-ì¤‘ì‹¬ìœ¼ë¡œ-ê°œë°œ">- SQLì¤‘ì‹¬ì ì¸ ê°œë°œì—ì„œ ê°ì²´ ì¤‘ì‹¬ìœ¼ë¡œ ê°œë°œ</h3>
<h3 id="--ìƒì‚°ì„±">- ìƒì‚°ì„±</h3>
<h3 id="--ìœ ì§€ë³´ìˆ˜">- ìœ ì§€ë³´ìˆ˜</h3>
<h3 id="--íŒ¨ëŸ¬ë‹¤ì„-ë¶ˆì¼ì¹˜-í•´ê²°">- íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ í•´ê²°</h3>
<h3 id="--ì„±ëŠ¥">- ì„±ëŠ¥</h3>
<h3 id="--ë°ì´í„°-ì ‘ê·¼-ì¶”ìƒí™”ì™€-ë²¤ë”-ë…ë¦½ì„±">- ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”ì™€ ë²¤ë” ë…ë¦½ì„±</h3>
<h3 id="--í‘œì¤€">- í‘œì¤€</h3>

<p><br /></p>

<h2 id="ìƒì‚°ì„±jpa--crud">ìƒì‚°ì„±(jpa &amp; CRUD)</h2>
<h3 id="-ì €ì¥--jpasavemember">+ ì €ì¥ : jpa.save(member)</h3>
<h3 id="-ì¡°íšŒ--jpafindmemberid">+ ì¡°íšŒ : jpa.find(memberId)</h3>
<h3 id="-ìˆ˜ì •--membersetnameë³€ê²½ì´ë¦„">+ ìˆ˜ì • : member.setName(â€œë³€ê²½ì´ë¦„â€)</h3>
<h3 id="-ì‚­ì œ--jpadeletemember">+ ì‚­ì œ : jpa.delete(member)</h3>

<p><br /></p>

<h2 id="ìœ ì§€ë³´ìˆ˜-ê¸°ì¡´--í•„ë“œë³€ê²½ì‹œ-ëª¨ë“ -sqlì„-ìˆ˜ì •">ìœ ì§€ë³´ìˆ˜ ê¸°ì¡´ : í•„ë“œë³€ê²½ì‹œ ëª¨ë“  SQLì„ ìˆ˜ì •</h2>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">memberId</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">tel</span><span class="o">;</span><span class="c1">// ì¶”ê°€ë˜ëŠ” í•­ëª©</span>
<span class="o">}</span>
</code></pre></div></div>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">Insert</span> <span class="k">into</span> <span class="n">member</span><span class="p">(</span><span class="n">member_ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span><span class="n">TEL</span><span class="p">)</span> <span class="k">values</span> <span class="o">//</span> <span class="n">tel</span> <span class="err">ì¶”ê°€</span>
<span class="k">select</span> <span class="n">member_ID</span><span class="p">,</span> <span class="n">NAME</span><span class="p">,</span><span class="n">TEL</span> <span class="k">from</span> <span class="n">member</span> <span class="o">//</span><span class="n">tel</span> <span class="err">ì¶”ê°€</span>
<span class="k">update</span> <span class="n">member</span> <span class="k">set</span> <span class="p">...</span> <span class="n">tel</span><span class="o">=?</span> <span class="o">//</span><span class="n">tel</span><span class="err">ì¶”ê°€</span>
</code></pre></div></div>
<p><br /></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Member</span><span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">memberId</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">tel</span><span class="o">;</span><span class="c1">// ì¶”ê°€ë˜ëŠ” í•­ëª©</span>
<span class="o">}</span>
</code></pre></div></div>
<blockquote>
  <p>JPAë¥¼ ì‚¬ìš©í•  ê²½ìš° í•„ë“œë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤.</p>
</blockquote>

<p><br /></p>

<h2 id="jpaì—ì„œ-ë¹„êµ">JPAì—ì„œ ë¹„êµ</h2>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">memberId</span><span class="o">=</span><span class="s">"111"</span>
<span class="nc">Member</span> <span class="n">member1</span><span class="o">=</span><span class="n">jpa</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">memberId</span><span class="o">);</span>
<span class="nc">Member</span> <span class="n">member2</span><span class="o">=</span><span class="n">jpa</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">memberId</span><span class="o">);</span>
<span class="n">member1</span><span class="o">==</span><span class="n">member2</span>
</code></pre></div></div>
<blockquote>
  <p>ë™ì¼í•œ íŠ¸ëœì­ì…˜ì—ì„œ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ê°™ìŒì„ ë³´ì¥í•œë‹¤.</p>
</blockquote>

<p><br /></p>

<h2 id="jpaì˜-ì„±ëŠ¥-ìµœì í™”-ê¸°ëŠ¥">JPAì˜ ì„±ëŠ¥ ìµœì í™” ê¸°ëŠ¥</h2>
<h3 id="1-1ì°¨-ìºì‹œì™€-ë™ì¼ì„±-ë³´ì¥">1. 1ì°¨ ìºì‹œì™€ ë™ì¼ì„± ë³´ì¥</h3>
<h3 id="2-íŠ¸ëœì­ì…˜ì„-ì§€ì›í•˜ëŠ”-ì“°ê¸°-ì§€ì—°">2. íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°</h3>
<h3 id="3-ì§€ì—°ë¡œë”©lazy-loading">3. ì§€ì—°ë¡œë”©(Lazy loading)</h3>

<p><br /></p>
<h3 id="1ì°¨-ìºì‹œì™€-ë™ì¼ì„±-ë³´ì¥">1ì°¨ ìºì‹œì™€ ë™ì¼ì„± ë³´ì¥</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">memberId</span><span class="o">=</span><span class="s">"111"</span>
<span class="nc">Member</span> <span class="n">member1</span><span class="o">=</span><span class="n">jpa</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">memberId</span><span class="o">);</span><span class="c1">// sql</span>
<span class="nc">Member</span> <span class="n">member2</span><span class="o">=</span><span class="n">jpa</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">,</span><span class="n">memberId</span><span class="o">);</span><span class="c1">// ìºì‹œ</span>
<span class="n">member1</span><span class="o">==</span><span class="n">member2</span><span class="c1">//true</span>
</code></pre></div></div>
<p><br /></p>
<h3 id="íŠ¸ëœì­ì…˜ì„-ì§€ì›í•˜ëŠ”-ì“°ê¸°-ì§€ì—°">íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—°</h3>
<h4 id="1-íŠ¸ëœì­ì…˜ì„-ì»¤ë°‹í• ë•Œê¹Œì§€-insert-sqlì„-ëª¨ì€ë‹¤">1. íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í• ë•Œê¹Œì§€ INSERT SQLì„ ëª¨ì€ë‹¤</h4>
<h4 id="2-jdbc-batch-sql-ê¸°ëŠ¥ì„-ì‚¬ìš©í•´ì„œ-í•œë²ˆì—-sql-ì „ì†¡">2. JDBC BATCH SQL ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ì„œ í•œë²ˆì— SQL ì „ì†¡</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">transaction</span><span class="o">.</span><span class="na">begin</span><span class="o">();</span>

<span class="n">jpa</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member1</span><span class="o">);</span>
<span class="n">jpa</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member2</span><span class="o">);</span>
<span class="n">jpa</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">member3</span><span class="o">);</span>
<span class="c1">//insert sqlì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë³´ë‚´ì§€ ì•ŠëŠ”ë‹¤.</span>

<span class="n">transaction</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
<span class="c1">//ì»¤ë°‹í•˜ëŠ” ìˆœê°„ ë°ì´í„°ë² ì´ìŠ¤ì— insert sqlì„ ëª¨ì•„ì„œ ë³´ë‚¸ë‹¤.</span>
</code></pre></div></div>
:ET